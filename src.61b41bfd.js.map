{"version":3,"sources":["index.js"],"names":["galleryItems","preview","original","description","galleryContainer","document","querySelector","galleryMarkup","createGalleryMarkup","modalOverlay","closeModalBtn","imgScale","lightBox","map","join","onGalleryImgClick","event","target","classList","contains","src","dataset","source","modalOpen","preventDefault","add","window","addEventListener","keyboardControls","modalClose","remove","removeEventListener","overlayClick","key","onArrowRight","onArrowLeft","sourceImg","indexOfImg","indexOf","length","insertAdjacentHTML"],"mappings":";AAAA,IAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAIXC,EAAmBC,SAASC,cAAc,eAC1CC,EAAgBC,EAAoBR,GACpCS,EAAeJ,SAASC,cAAc,sBACtCI,EAAgBL,SAASC,cAAc,kCACvCK,EAAWN,SAASC,cAAc,oBAClCM,EAAWP,SAASC,cAAc,gBAQxC,SAASE,EAAoBR,GACpBA,OAAAA,EACJa,IAAI,SAAwC,GAArCZ,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YAKXD,MAAAA,4GAAAA,OAAAA,EAICD,iGAAAA,OAAAA,EACQC,kCAAAA,OAAAA,EACRC,0BAAAA,OAAAA,EAVf,8DAgBHW,KAAK,IAGR,SAASC,EAAkBC,GACNA,EAAMC,OAAOC,UAAUC,SAAS,oBAInDR,EAASS,IAAMJ,EAAMC,OAAOI,QAAQC,OACpCC,IACAP,EAAMQ,kBAGR,SAASD,IACPX,EAASM,UAAUO,IAAI,WACvBC,OAAOC,iBAAiB,UAAWC,GAGrC,SAASC,IACPjB,EAASM,UAAUY,OAAO,WAC1BnB,EAASS,IAAM,GACfM,OAAOK,oBAAoB,UAAWH,GAGxC,SAASI,EAAahB,GAChBA,EAAMC,SAAWR,GACnBoB,IAIJ,SAASD,EAAiBZ,GACR,WAAdA,EAAMiB,KACRJ,IAEgB,eAAdb,EAAMiB,KACRC,IAEgB,cAAdlB,EAAMiB,KACRE,IAIF,SAASD,IACDE,IAAAA,EAAYpC,EAAaa,IAAI,SAAA,GAAkBX,OAAfA,EAAAA,WAClCmC,EAAaD,EAAUE,QAAQ3B,EAASS,KAExCiB,EAAa,EAAID,EAAUG,OAAS,IACtCF,GAAc,GAEhB1B,EAASS,IAAMgB,EAAUC,EAAa,GAGxC,SAASF,IACFC,IAAAA,EAAYpC,EAAaa,IAAI,SAAA,GAAkBX,OAAfA,EAAAA,WACjCmC,EAAaD,EAAUE,QAAQ3B,EAASS,KAEzB,IAAfiB,IACAA,EAAaD,EAAUG,QAEzB5B,EAASS,IAAMgB,EAAUC,EAAa,GApF1CjC,EAAiBoC,mBAAmB,aAAcjC,GAElDH,EAAiBuB,iBAAiB,QAAQZ,GAC1CL,EAAciB,iBAAiB,QAASE,GACxCpB,EAAakB,iBAAiB,QAASK","file":"src.61b41bfd.js","sourceRoot":"../src","sourcesContent":["const galleryItems = [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n\nconst galleryContainer = document.querySelector('.js-gallery');\nconst galleryMarkup = createGalleryMarkup(galleryItems);\nconst modalOverlay = document.querySelector('.lightbox__overlay');\nconst closeModalBtn = document.querySelector('[data-action=\"close-lightbox\"]');\nconst imgScale = document.querySelector('.lightbox__image');\nconst lightBox = document.querySelector('.js-lightbox');\n\ngalleryContainer.insertAdjacentHTML('afterBegin', galleryMarkup);\n\ngalleryContainer.addEventListener('click',onGalleryImgClick);\ncloseModalBtn.addEventListener('click', modalClose);\nmodalOverlay.addEventListener('click', overlayClick);\n\nfunction createGalleryMarkup(galleryItems) {\n  return galleryItems\n    .map(({ preview, original, description }) => {\n      return `\n        <li class=\"gallery__item\">\n          <a\n            class=\"gallery__link\"\n            href=\"${original}\"\n            >\n            <img\n              class=\"gallery__image\"\n              src=\"${preview}\"\n              data-source=\"${original}\"\n              alt=\"${description}\"\n            />\n          </a>\n        </li>\n      `;\n    })\n  .join('');\n}\n\nfunction onGalleryImgClick(event) {\n  const clickImage = event.target.classList.contains('gallery__image');\n  if(!clickImage) {\n    return\n  }\n  imgScale.src = event.target.dataset.source;\n  modalOpen();\n  event.preventDefault();\n}\n\nfunction modalOpen() {\n  lightBox.classList.add('is-open');\n  window.addEventListener('keydown', keyboardControls);\n}\n\nfunction modalClose() {\n  lightBox.classList.remove('is-open');\n  imgScale.src = '';\n  window.removeEventListener('keydown', keyboardControls);\n}\n\nfunction overlayClick(event) {\n  if (event.target === modalOverlay){\n    modalClose();\n  }\n}\n\nfunction keyboardControls(event) {\n if(event.key === 'Escape'){\n  modalClose();\n }\n if(event.key === 'ArrowRight'){\n  onArrowRight();\n }\n if(event.key === 'ArrowLeft'){\n  onArrowLeft();\n }\n}\n\nfunction onArrowRight() {\n  const sourceImg = galleryItems.map(({ original }) => original);\n  let indexOfImg = sourceImg.indexOf(imgScale.src);\n\n  if (indexOfImg + 1 > sourceImg.length - 1) {\n    indexOfImg = -1;\n  }\n  imgScale.src = sourceImg[indexOfImg + 1];\n}\n\nfunction onArrowLeft() {\n const sourceImg = galleryItems.map(({ original }) => original);\n  let indexOfImg = sourceImg.indexOf(imgScale.src);\n\n  if (indexOfImg === 0) {\n      indexOfImg = sourceImg.length;\n    }\n    imgScale.src = sourceImg[indexOfImg - 1];\n}"]}